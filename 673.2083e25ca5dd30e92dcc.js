"use strict";(self.webpackChunkpersonal_web=self.webpackChunkpersonal_web||[]).push([[673],{9673:(Ot,Q,h)=>{function m(e,r,t,n){return new(t||(t=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(g){s(g)}}function c(f){try{l(n.throw(f))}catch(g){s(g)}}function l(f){f.done?o(f.value):function(o){return o instanceof t?o:new t(function(s){s(o)})}(f.value).then(a,c)}l((n=n.apply(e,r||[])).next())})}h.d(Q,{zS:()=>gt,cx:()=>bt,sG:()=>X});var u=h(7716),p=h(9838),tt=h(7574),et=h(8640);const Y=new tt.y(et.Z);var H=h(6215),b=h(5917),nt=h(2836),rt=h(6682),w=h(8002);function W(...e){const r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return t=>(0,w.U)(function(e,r){return n=>{let i=n;for(let o=0;o<r;o++){const s=null!=i?i[e[o]]:void 0;if(void 0===s)return;i=s}return i}}(e,r))(t)}var ot=h(7393);class lt{constructor(r,t){this.predicate=r,this.inclusive=t}call(r,t){return t.subscribe(new at(r,this.predicate,this.inclusive))}}class at extends ot.L{constructor(r,t,n){super(r),this.predicate=t,this.inclusive=n,this.index=0}_next(r){const t=this.destination;let n;try{n=this.predicate(r,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(r,n)}nextOrComplete(r,t){const n=this.destination;Boolean(t)?n.next(r):(this.inclusive&&n.next(r),n.complete())}}var S=h(5435),T=h(3190),O=h(8307),ut=h(8049),C=h(7349),R=h(5257),z=h(5304),j=h(8583);const ct=["*"],_={useTransferState:!0,alwaysMonitor:!1,manualIdle:!1,baseURIForScullyContent:"http://localhost:1668"},E=new u.OlP("scullyLibConfig",{factory:()=>_}),y=e=>(e.includes("#")&&(e=e.split("#")[0]),e.includes("?")&&(e=e.split("?")[0]),e.endsWith("/")?e.slice(0,-1):e);function x(e,r="json"){return new Promise((t,n)=>{const i=new XMLHttpRequest;i.responseType=r,i.addEventListener("load",o=>{if(200!==i.status)return n(i);t(i.response)}),i.addEventListener("error",(...o)=>n(o)),i.open("get",e,!0),i.send()})}const F=()=>window&&"running"===window.ScullyIO,P=()=>window&&"generated"===window.ScullyIO;function J(e,r){return e.endsWith("/")&&r.startsWith("/")?`${e}${r.substr(1)}`:e.endsWith("/")||r.startsWith("/")?`${e}${r}`:`${e}/${r}`}const U="ScullyIO-transfer-state",A="/** ___SCULLY_STATE_START___ */",$="/** ___SCULLY_STATE_END___ */";let V=(()=>{class e{constructor(t,n){this.document=t,this.router=n,this.inlineOnly=!1,this.currentBaseUrl="//",this.stateBS=new H.X({}),this.state$=this.stateBS.pipe((0,S.h)(i=>void 0!==i)),this.nextUrl=this.router.events.pipe((0,S.h)(i=>i instanceof p.OD),(0,T.w)(i=>y(this.initialUrl)===y(i.url)?(this.initialUrl="__done__with__Initial__navigation__",Y):(0,b.of)(i)),(0,O.b)(()=>this.stateBS.next(void 0)),(0,T.w)(i=>this.router.events.pipe((0,S.h)(o=>o instanceof p.m2&&o.url===i.url),(0,ut.P)())),(0,w.U)(i=>y(i.urlAfterRedirects||i.url)),(0,C.d)(1))}startMonitoring(){window&&window["ScullyIO-injected"]&&window["ScullyIO-injected"].inlineStateOnly&&(this.inlineOnly=!0),this.setupEnvForTransferState(),this.setupStartNavMonitoring()}setupEnvForTransferState(){if(F()){this.injectScript();const t=window["ScullyIO-exposed"]||{};t.transferState&&(this.stateBS.next(t.transferState),this.saveState(t.transferState))}else P()&&(this.initialUrl=window.location.pathname||"__no_NO_no__",this.initialUrl="/"!==this.initialUrl&&this.initialUrl.endsWith("/")?this.initialUrl.slice(0,-1):this.initialUrl,this.stateBS.next(window&&window[U]||{}))}injectScript(){this.script=this.document.createElement("script"),this.script.setAttribute("id",U);let t=document.body.lastChild;for(;"SCRIPT"===t.previousSibling.nodeName;)t=t.previousSibling;document.body.insertBefore(this.script,t)}getState(t){return this.fetchTransferState(),this.state$.pipe(W(t))}stateHasKey(t){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(t)}stateKeyHasValue(t){return this.stateBS.value&&this.stateBS.value.hasOwnProperty(t)&&null!=this.stateBS.value[t]}setState(t,n){const i=Object.assign(Object.assign({},this.stateBS.value),{[t]:n});this.stateBS.next(i),this.saveState(i)}saveState(t){F()&&(this.script.textContent=`{window['${U}']=_u(\`${A}${function(e){const r={"'":"_~q~",$:"_~o~","`":"_~b~","/":"_~s~","<":"_~l~",">":"_~g~"};return e.replace(/[\$`'<>\/]/g,t=>r[t]).replace(/\\\"/g,"_~d~")}(JSON.stringify(t))}${$}\`);function _u(t){t=t.split('${A}')[1].split('${$}')[0];const u={'_~b~': "\`",'_~q~': "'",'_~o~': '$','_~s~': '/','_~l~': '<','_~g~': '>'};return JSON.parse(t.replace(/_~d~/g,'\\\\"').replace(/_~[^]~/g, (s) => u[s]).replace(/\\n/g,'\\\\n').replace(/\\t/g,'\\\\t').replace(/\\r/g,'\\\\r'));}}`)}setupStartNavMonitoring(){!P()||this.nextUrl.subscribe()}useScullyTransferState(t,n){return P()?this.getState(t):n.pipe((0,O.b)(i=>this.setState(t,i)))}fetchTransferState(){return m(this,void 0,void 0,function*(){const t=o=>o.split("/").filter(s=>""!==s.trim())[0];yield new Promise(o=>setTimeout(o,0));const n=yield this.nextUrl.pipe((0,R.q)(1)).toPromise(),i=t(n);this.currentBaseUrl!==i&&(this.currentBaseUrl=i,this.nextUrl.pipe(function(e,r=!1){return t=>t.lift(new lt(e,r))}(o=>t(o)===this.currentBaseUrl),(0,T.w)(o=>this.inlineOnly?this.readFromIndex(o):this.readFromJson(o)),(0,z.K)(o=>(console.warn("Error while loading of parsing Scully state:",o),(0,b.of)({}))),(0,O.b)(o=>{this.stateBS.next(o)})).subscribe({complete:()=>{this.currentBaseUrl="//"}}))})}readFromJson(t){return x(K(J(t,"/data.json")))}readFromIndex(t){return x(K(J(t,"/index.html")),"text").then(n=>{const i=n.split(A)[1].split($)[0];return JSON.parse(function(e){const r={"_~q~":"'","_~b~":"`","_~o~":"$","_~s~":"/","_~l~":"<","_~g~":">"};return e.replace(/_~d~/g,'\\"').replace(/_~[^]~/g,t=>r[t]).replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(i))})}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(j.K0),u.LFG(p.F0))},e.\u0275prov=u.Yz7({factory:function(){return new e(u.LFG(j.K0),u.LFG(p.F0))},token:e,providedIn:"root"}),e})();function K(e){return e.startsWith("/")?e.slice(1):e}let pt=(()=>{class e{constructor(t,n,i,o){this.zone=t,this.router=n,this.initialUrl=function(e){return e.endsWith("/")?e.slice(0,-1):e}(window&&window.location&&window.location.pathname)||"",this.imState=new H.X({idle:!1,timeOut:5e3}),this.idle$=this.imState.pipe(W("idle")),this.initApp=new Event("AngularInitialized",{bubbles:!0,cancelable:!1}),this.appReady=new Event("AngularReady",{bubbles:!0,cancelable:!1}),this.appTimeout=new Event("AngularTimeout",{bubbles:!0,cancelable:!1}),this.scullyLibConfig=Object.assign({},_,i);const a=!!(window["ScullyIO-exposed"]||{}).manualIdle;!this.scullyLibConfig.manualIdle&&window&&(this.scullyLibConfig.alwaysMonitor||F())&&(window.dispatchEvent(this.initApp),this.router.events.pipe((0,S.h)(c=>c instanceof p.m2&&void 0!==c.urlAfterRedirects),(0,S.h)(c=>!a||c.urlAfterRedirects!==this.initialUrl),(0,O.b)(()=>this.zoneIdleCheck())).subscribe()),this.scullyLibConfig.manualIdle&&window.dispatchEvent(this.initApp),this.scullyLibConfig.useTransferState&&o.startMonitoring()}fireManualMyAppReadyEvent(){return m(this,void 0,void 0,function*(){return window.dispatchEvent(this.appReady)})}init(){return m(this,void 0,void 0,function*(){return this.idle$.pipe((0,R.q)(1)).toPromise()})}zoneIdleCheck(){return m(this,void 0,void 0,function*(){if(void 0===Zone)return this.simpleTimeout();const t=Zone.current.get("TaskTrackingZone");if(void 0===t)return this.simpleTimeout();this.imState.value.idle&&(yield this.setState("idle",!1)),this.zone.runOutsideAngular(()=>{let n,i=0;const o=Date.now(),s=()=>{clearTimeout(n),Date.now()-o>3e4?window.dispatchEvent(this.appTimeout):t.macroTasks.length>0&&void 0!==t.macroTasks.find(a=>a.source.includes("XMLHttpRequest"))||i<1?n=setTimeout(()=>{i+=1,s()},50):this.zone.run(()=>{setTimeout(()=>{window.dispatchEvent(this.appReady),this.setState("idle",!0)},250)})};s()})})}simpleTimeout(){return m(this,void 0,void 0,function*(){console.warn("Scully is using timeouts, add the needed polyfills instead!"),yield new Promise(t=>setTimeout(t,this.imState.value.timeOut)),window.dispatchEvent(this.appReady)})}setPupeteerTimeoutValue(t){this.imState.next(Object.assign(Object.assign({},this.imState.value),{timeOut:t}))}setState(t,n){this.imState.next(Object.assign(Object.assign({},this.imState.value),{[t]:n}))}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(u.R0b),u.LFG(p.F0),u.LFG(E),u.LFG(V))},e.\u0275prov=u.Yz7({factory:function(){return new e(u.LFG(u.R0b),u.LFG(p.F0),u.LFG(E),u.LFG(V))},token:e,providedIn:"root"}),e})(),X=(()=>{class e{constructor(t){this.router=t,this.refresh=new nt.t(1),this.allRoutes$=this.refresh.pipe((0,T.w)(()=>x("assets/scully-routes.json")),(0,z.K)(()=>(console.warn("Scully routes file not found, are you running the Scully generated version of your site?"),(0,b.of)([]))),(0,S.h)(n=>Array.isArray(n)),(0,w.U)(this.cleanDups),(0,C.d)({refCount:!1,bufferSize:1})),this.available$=this.allRoutes$.pipe((0,w.U)(n=>n.filter(i=>!i.hasOwnProperty("published")||!1!==i.published)),(0,C.d)({refCount:!1,bufferSize:1})),this.unPublished$=this.allRoutes$.pipe((0,w.U)(n=>n.filter(i=>!!i.hasOwnProperty("published")&&!1===i.published)),(0,C.d)({refCount:!1,bufferSize:1})),this.topLevel$=this.available$.pipe((0,w.U)(n=>n.filter(i=>!i.route.slice(1).includes("/"))),(0,C.d)({refCount:!1,bufferSize:1})),this.reload()}getCurrent(){return location?(0,rt.T)((0,b.of)(new p.m2(0,"","")),this.router.events).pipe((0,S.h)(t=>t instanceof p.m2),(0,T.w)(()=>this.available$),(0,w.U)(t=>{const n=y(encodeURI(location.pathname).trim());return t.find(i=>n===y(i.route.trim())||i.slugs&&Array.isArray(i.slugs)&&i.slugs.find(o=>n.endsWith(y(o.trim()))))})):(0,b.of)()}cleanDups(t){const n=new Map;return t.forEach(i=>n.set(JSON.stringify(Object.assign(Object.assign({},i),{route:St(i)?"":i.route})),i)),[...n.values()]}reload(){this.refresh.next()}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(p.F0))},e.\u0275prov=u.Yz7({factory:function(){return new e(u.LFG(p.F0))},token:e,providedIn:"root"}),e})();function St(e){const r=Object.keys(e);return!(1===r.length&&r.includes("route")||2===r.length&&r.includes("route")&&r.includes("title"))}let L,gt=(()=>{class e{constructor(t,n,i,o,s){this.elmRef=t,this.srs=n,this.router=i,this.location=o,this.conf=s,this.baseUrl=this.conf.useTransferState||_.useTransferState,this.elm=this.elmRef.nativeElement,this.routes=this.srs.allRoutes$.pipe((0,R.q)(1)).toPromise(),this.routeUpdates$=this.router.events.pipe((0,S.h)(a=>a instanceof p.m2),(0,S.h)(a=>L&&!L.endsWith(y(a.urlAfterRedirects))),(0,O.b)(a=>this.replaceContent())),this.routeSub=this.routeUpdates$.subscribe()}ngOnInit(){this.elm&&this.handlePage()}handlePage(){return m(this,void 0,void 0,function*(){const t=y(location.href);if(L===t)return;L=t;const n=document.createElement("template"),i=this.getCSSId(this.elm);if(window.scullyContent){const c=window.scullyContent.html;n.innerHTML=i!==window.scullyContent.cssId?c.split(window.scullyContent.cssId).join(i):c}else yield x(t+"/index.html","text").catch(c=>{if((0,u.X6Q)()){const l=new URL(location.href);return x(`${this.conf.baseURIForScullyContent}/${y(l.pathname)}/index.html`,"text")}return Promise.reject(c)}).then(c=>{try{const l=c.split("\x3c!--scullyContent-begin--\x3e")[1].split("\x3c!--scullyContent-end--\x3e")[0];if(l.includes("_ngcontent")){const f="_ngcontent"+l.split("_ngcontent")[1].split("=")[0];n.innerHTML=l.split(f).join(i)}else n.innerHTML=l}catch(l){n.innerHTML='<h2 id="___scully-parsing-error___">Sorry, could not parse static page content</h2>\n            <p>This might happen if you are not using the static generated pages.</p>'}}).catch(c=>{n.innerHTML='<h2 id="___scully-parsing-error___">Sorry, could not load static page content</h2>',console.error("problem during loading static scully content",c)});const o=this.elm.parentElement||document.body,s=document.createComment("scullyContent-begin"),a=document.createComment("scullyContent-end");o.insertBefore(s,this.elm),o.insertBefore(n.content,this.elm),o.insertBefore(a,this.elm),setTimeout(()=>document.querySelectorAll("[href]").forEach(this.upgradeToRoutelink.bind(this)),10)})}upgradeToRoutelink(t){return m(this,void 0,void 0,function*(){if(!["A","BUTTON"].includes(t.tagName))return;const n=t.dataset.hash;if(n)return t.setAttribute("href","#"+n),t.setAttribute("onclick",""),void(t.onclick=c=>{c.preventDefault();const l=document.getElementById(n);if(l){const f=new URL(window.location.href);f.hash=n,history.replaceState("","",f.toString()),l.scrollIntoView()}});const i=yield this.routes,o=t.getAttribute("href"),s=y(o.toLowerCase()),a=i.find(c=>y(c.route.toLowerCase())===s);s&&a&&!s.startsWith("#")&&(t.onclick=c=>m(this,void 0,void 0,function*(){const l=a.route.split("/"),f=location.pathname.split("/");f.pop(),c.preventDefault(),(yield this.router.navigate(l).catch(d=>(console.error("routing error",d),!1)))&&f.every((d,v)=>l[v]===d)&&l.length!==f.length+1&&setTimeout(()=>this.replaceContent(),10)}))})}replaceContent(){window.scullyContent=void 0;const t=this.elm.parentElement;let n=function(e,r){const t=[],n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode:o=>o.nodeValue&&!o.nodeValue.includes(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT});let i;for(;i=n.nextNode();)t.push(i);return t}(t,"scullyContent-begin")[0];for(;n&&n!==this.elm;){const i=n.nextSibling;t.removeChild(n),n=i}this.handlePage()}getCSSId(t){return t.getAttributeNames().find(n=>n.startsWith("_ngcontent"))||""}ngOnDestroy(){this.routeSub.unsubscribe(),L="//"}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(X),u.Y36(p.F0),u.Y36(j.Ye),u.Y36(E))},e.\u0275cmp=u.Xpm({type:e,selectors:[["scully-content"]],ngContentSelectors:ct,decls:1,vars:0,template:function(t,n){1&t&&(u.F$t(),u.Hsn(0))},styles:["\n      :host {\n        display: none;\n      }\n      scully-content {\n        display: none;\n      }\n    "],encapsulation:2,changeDetection:0}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({}),e})(),bt=(()=>{class e{constructor(t){this.idle=t}static forRoot(t=_){return t=Object.assign({},_,t),{ngModule:e,providers:[{provide:E,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(pt))},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[Z],Z]}),e})()}}]);